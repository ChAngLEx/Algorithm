# 1:
DIRECTIONS = [(1, 0), (0, 1), (-1, 0), (0, -1)]
class Solution:
    def numDistinctIslands(self, grid: List[List[int]]) -> int:
        if not grid or not grid[0]:
            return 0
        
        queue = collections.deque()
        island_node = []
        for i in range(len(grid)):
            for j in range(len(grid[0]) ):
                if grid[i][j] == 1:
                    island_node.append((i, j))        
        
        if len(island_node) == 1:
            return 1
        
        visited_node = set()        
        island = []
        
        for i in range(len(island_node)):
            if island_node[i] not in visited_node:
                queue.append(island_node[i])
                visited_node.add(island_node[i])
                
            temp = []

            while queue:
                
                x, y = queue.popleft()
                temp.append((0,0))
                for direct in DIRECTIONS:
                    new_x = x + direct[0]
                    new_y = y + direct[1]


                    if not self.is_valid(new_x, new_y, grid, visited_node):
                        continue

                    if grid[new_x][new_y] == 1:
                        temp.append(direct)                        
                        queue.append((new_x, new_y))
                        visited_node.add((new_x, new_y))
                
                
            if temp not in island and temp:                
                island.append(temp)
                 
        return len(island)
      
    def is_valid(self, x, y, grid, visited_node):
        if x < 0 or y < 0 or x >= len(grid) or y >= len(grid[0]):
            return False
        
        if grid[x][y] == 0:
            return False
        
        if (x, y) in visited_node:
            return False
        
        return True
# 2 graph:
